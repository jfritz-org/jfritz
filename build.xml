<?xml version="1.0" encoding="UTF-8"?>
<project default="javadoc">
	<property name="src" value="src"/>
	<property name="doc" value="doc"/>
	<property name="build" value="bin"/>
	<property name="dist" value="dist"/>

	<target name="compile">
		<mkdir dir="${build}"/>
		<javac srcdir="${src}" destdir="${build}"/>
	</target>

	<target name="jar" depends="compile">
		<mkdir dir="${dist}"/>
		<jar jarfile="${dist}/jfritz.jar" basedir="${build}"/>
	</target>

	<target name="lib-jar" description="makes the thirdparty jar">
		<jar update="no" index="yes" jarfile="lib/jdic.jar">
			<zipgroupfileset refid= "classpath-fileset"/>
		</jar>
		<jar update="no" index="yes" jarfile="lib/jacob.jar">
			<zipgroupfileset refid= "classpath-fileset"/>
		</jar>
		<jar update="no" index="yes" jarfile="lib/jfreereport-0.8.6-2.jar">
			<zipgroupfileset refid= "classpath-fileset"/>
		</jar>
		<jar update="no" index="yes" jarfile="lib/jcommon-1.0.0.0-rc1-cvs.jar">
			<zipgroupfileset refid= "classpath-fileset"/>
		</jar>
		<jar update="no" index="yes" jarfile="lib/poi-2.5.1-final-20040804.jar">
			<zipgroupfileset refid= "classpath-fileset"/>
		</jar>
		<jar update="no" index="yes" jarfile="lib/bsf-2.3.0.jar">
			<zipgroupfileset refid= "classpath-fileset"/>
		</jar>
		<jar update="no" index="yes" jarfile="lib/bsh-1.3.0.jar">
			<zipgroupfileset refid= "classpath-fileset"/>
		</jar>
		<jar update="no" index="yes" jarfile="lib/itext-1.3.4.jar">
			<zipgroupfileset refid= "classpath-fileset"/>
		</jar>
		<jar update="no" index="yes" jarfile="lib/pixie-0.8.4.jar">
			<zipgroupfileset refid= "classpath-fileset"/>
		</jar>
	</target>

	<target name="javadoc">
		<javadoc access="public" author="true" classpath="${build}" destdir="${doc}" doctitle="JFritz! Documentation" nodeprecated="false" nodeprecatedlist="false" noindex="false" nonavbar="false" notree="false" packagenames="de.moonflower.jfritz,de.moonflower.jfritz.upnp" source="1.4" sourcepath="src" splitindex="true" use="true" version="true"/>
	</target>

	<target name="doc-archive" depends="javadoc">
		<mkdir dir="${dist}"/>
		<tar tarfile="${dist}/jfritz-javadoc.tar" basedir="${doc}" />
		<gzip src="${dist}/jfritz-javadoc.tar" zipfile="${dist}/jfritz-javadoc.tar.gz"/>
		<delete file="${dist}/jfritz-javadoc.tar"/>
	</target>

	<target name="clean">
		<delete dir="${build}"/>
		<delete dir="${dist}"/>
	</target>

	<target name="update">
		<cvs command="update"/>
	</target>
</project>
